(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-forgetPassword"],{"0394":function(t,e,i){"use strict";i.r(e);var n=i("b3ac"),a=i("8468");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("99f6");var s,c=i("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"8144eb36",null,!1,n["a"],s);e["default"]=r.exports},1763:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-page-body[data-v-8144eb36]{background-color:#fff;padding-top:%?100?%}.logo-view[data-v-8144eb36]{width:100%;height:%?400?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.logo[data-v-8144eb36]{width:%?350?%;height:%?350?%}.user-name[data-v-8144eb36]{width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;display:-webkit-box;display:-webkit-flex;display:flex}.user-name-view[data-v-8144eb36]{width:80%;height:%?100?%;line-height:%?100?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;border-bottom:1px solid #eee}.iconmobile[data-v-8144eb36], .iconlock[data-v-8144eb36], .iconuser[data-v-8144eb36], .iconkey[data-v-8144eb36], .iconsafetycertificate[data-v-8144eb36]{font-size:%?50?%;color:#f64547}.user-inpu[data-v-8144eb36]{color:#666;margin-left:%?20?%;font-size:%?30?%}.registerButton[data-v-8144eb36]{width:80%;background:-webkit-linear-gradient(left,#f64547,#fe695a);background:linear-gradient(90deg,#f64547,#fe695a);color:#fff;border-radius:5px;margin-top:%?30?%}.annotation[data-v-8144eb36]{color:#999;width:80%;font-size:%?30?%;height:%?80?%;line-height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-left:10%}.auth[data-v-8144eb36]{border:%?1?% solid #c6c6c6;color:#666;border-radius:%?5?%;padding:%?4?% %?16?%}body.?%PAGE?%[data-v-8144eb36]{background-color:#fff}",""]),t.exports=e},2041:function(t,e,i){"use strict";i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{loadModal:{show:!1,text:""},code:"",codeTime:0,account:"",password:"",confirmPassword:"",rules:{account:[{rule:/^1[356789]\d{9}$/,msg:"手机号格式不正确"}],password:[{rule:/^.{6,16}$/,msg:"密码格式不正确，长度为6-16个字符"}],confirmPassword:[{rule:/^.{6,16}$/,msg:"确认密码格式不正确，长度为6-16个字符"}]}}},methods:{validate:function(t){var e=this,i=!0;return this.rules[t].forEach((function(n){if(!n.rule.test(e[t]))return uni.showToast({title:n.msg,icon:"none"}),i=!1,!1})),i},getCode:function(){var t=this;if(!(this.codeTime>0)){if(!this.validate("account"))return!1;this.loadModal.show=!0,uni.request({url:"http://livechb3.changhuoban.com/api/V1/getCode",method:"POST",data:{phone:this.account},success:function(e){if(t.loadModal.show=!1,e.data.success){uni.showToast({title:"发送成功",icon:"none",position:"bottom"}),t.codeTime=60;var i=setInterval((function(){t.codeTime>=1?t.codeTime--:(t.codeTime=0,clearInterval(i))}),1e3)}else uni.showToast({title:e.data.error.message,icon:"none"})}})}},validata:function(){var t=/^1[34578]\d{9}$/;console.log(t.test(this.phone))},submit:function(){return!!this.validate("account")&&(!!this.validate("password")&&(!!this.validate("confirmPassword")&&(this.password!=this.confirmPassword?(uni.showToast({title:"两次密码不一致",icon:"none"}),!1):(uni.showLoading(),void uni.request({url:"http://livechb3.changhuoban.com/api/V1/forgetPwd",method:"POST",data:{code:this.code,account:this.account,password:this.password,password1:this.confirmPassword},success:function(t){console.log(t),uni.hideToast();try{t.data.success?uni.showToast({title:"重置成功",icon:"none",duration:2e3,position:"bottom",success:function(){setTimeout((function(){uni.navigateTo({url:"/pages/index/index",animationType:"pop-in",animationDuration:200})}),2e3)}}):uni.showToast({title:t.data.error.message,icon:"none"})}catch(e){uni.showToast({title:"网络错误,请重试",icon:"none"})}},fail:function(){},complete:function(){}})))))}}};e.default=n},8468:function(t,e,i){"use strict";i.r(e);var n=i("2041"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"99f6":function(t,e,i){"use strict";var n=i("e6f3"),a=i.n(n);a.a},b3ac:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"logo-view"},[i("v-uni-image",{staticClass:"logo",attrs:{src:"/static/index/logo.png"}})],1),i("v-uni-view",{staticClass:"user-name"},[i("v-uni-view",{staticClass:"user-name-view"},[i("v-uni-view",{staticClass:"iconfont iconmobile"}),i("v-uni-input",{staticClass:"user-inpu",attrs:{placeholder:"请输入您的登陆账号",type:"number"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1),i("v-uni-view",{staticClass:"user-name-view"},[i("v-uni-view",{staticClass:"iconfont iconsafetycertificate"}),i("v-uni-input",{staticClass:"user-inpu",attrs:{placeholder:"动态验证码",type:"number"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-uni-view",{staticClass:"auth",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.codeTime>0?t.codeTime+"s后发送":"获取验证码"))])],1),i("v-uni-view",{staticClass:"user-name-view"},[i("v-uni-view",{staticClass:"iconfont iconlock"}),i("v-uni-input",{staticClass:"user-inpu",attrs:{placeholder:"请输入6-16位密码",password:"true"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),i("v-uni-view",{staticClass:"user-name-view"},[i("v-uni-view",{staticClass:"iconfont iconlock"}),i("v-uni-input",{staticClass:"user-inpu",attrs:{placeholder:"请再次输入密码",password:"true"},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),i("v-uni-button",{staticClass:"registerButton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("立即重置")]),t.loadModal.show?i("v-uni-view",{staticClass:"cu-load load-modal"},[i("v-uni-image",{attrs:{src:"/static/public/loading.png",mode:"aspectFit"}}),i("v-uni-view",{staticClass:"gray-text"},[t._v(t._s(t.loadModal.text))])],1):t._e()],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},e6f3:function(t,e,i){var n=i("1763");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2be6c5ff",n,!0,{sourceMap:!1,shadowMode:!1})}}]);